import{a as G,b as J,c as K,d as O,e as Q,f as X,g as Y,h as Z}from"./chunk-IUOOMVWF.js";import{$b as q,C as S,F as p,G as u,Ia as g,Ib as P,Ja as o,Jb as T,Ka as x,Kb as I,Ma as w,Na as M,Oa as C,S as y,Vb as W,X as V,Xb as B,Y as l,ac as D,bc as z,ca as N,cc as j,dc as A,fc as H,ga as f,gc as U,hb as k,ib as F,ka as h,kb as L,oa as _,sa as i,ta as e,ua as b,wa as R,ya as c}from"./chunk-XD6L3HVD.js";function ee(m,n){m&1&&(i(0,"mat-error"),o(1," Veuillez renseigner Ce champs ! "),e())}function te(m,n){m&1&&(i(0,"mat-error"),o(1," Veuillez renseigner Ce champs ! "),e())}function ie(m,n){m&1&&(i(0,"mat-error"),o(1," Veuillez renseigner Ce champs ! "),e())}function re(m,n){m&1&&(i(0,"mat-error"),o(1," Veuillez renseigner Ce champs ! "),e())}var $=class m{email;userName;fullName;password;profilePicture="https://randomuser.me/api/portraits/lego/5.jpg";profileImage=null;authService=S(L);snackBar=S(W);router=S(k);hide=y(!1);togglePassword(n){this.hide.set(!this.hide()),n.stopPropagation()}register(){this.authService.isLoading.set(!0);let n=new FormData;n.append("email",this.email),n.append("userName",this.userName),n.append("fullName",this.fullName),n.append("password",this.password),n.append("profileImage",this.profileImage),this.authService.register(n).subscribe({next:()=>{this.snackBar.open("Vous vous \xEAtes enregistrer avec succ\xE8s !","Close",{duration:500}),this.authService.isLoading.set(!1)},error:d=>{let t=d.error;this.snackBar.open(t.error,"Close"),this.authService.isLoading.set(!1)},complete:()=>{this.router.navigate(["/"]),this.authService.isLoading.set(!1)}})}onFileSelected(n){let d=n.target.files[0];if(d){this.profileImage=d;let t=new FileReader;t.onload=a=>{this.profilePicture=a.target.result,console.log(a.target?.result)},t.readAsDataURL(d),console.log(this.profilePicture)}}static \u0275fac=function(d){return new(d||m)};static \u0275cmp=N({type:m,selectors:[["app-register"]],decls:50,vars:15,consts:[["userForm","ngForm"],["emailModel","ngModel"],["userNameModel","ngModel"],["fullNameModel","ngModel"],["passwordModel","ngModel"],["pic",""],["action","",1,"md:flex","justify-center","px-20","gb-white","gap-10",3,"ngSubmit"],[1,"h-auto","w-3/5",2,"background-image","url('register.svg')","background-repeat","no-repeat","background-size","contain","background-color","white","background-position","bottom"],[1,"gb-white","my-10","rounded","w-1/4","felx","felx-col","gap-3","shadow-sm","drop-shadow-md"],[1,"text-center"],[1,"text-2xl","my-2","font-medium"],[1,"flex","justify-center"],["alt","",1,"rounded-full","object-cover","gb-blue-800","h-24","w-24",3,"src"],[1,"w-full","px-4"],["apperance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Votre Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","userName","placeholder","Votre nom d'utilisatuer",3,"ngModelChange","ngModel"],["matInput","","required","","name","fullName","placeholder","Votre nom et pr\xE9nom(s)",3,"ngModelChange","ngModel"],["matInput","","required","","name","password","placeholder","Votre mot de passe",3,"ngModelChange","type","ngModel"],["matSuffix","",3,"click"],["hidden","","type","file","placeholder","Photo de profile ",3,"change"],["type","button",1,"w-full","flex","items-center","gap-2","justify-center","mb-5","bg-green-900","text-white","rounded-md","p-2",3,"click"],[3,"action","isDisabled","text","isLoading"],[1,"font-bold","text-xs","text-center","pb-10"],["href","",1,"text-blue-500",3,"routerLink"]],template:function(d,t){if(d&1){let a=R();i(0,"form",6,0),c("ngSubmit",function(){return p(a),u(t.register())}),b(2,"div",7),i(3,"div",8)(4,"div",9)(5,"div",10),o(6," Cr\xE9er un compte "),e(),i(7,"div",11),b(8,"img",12),e(),i(9,"div",10),o(10," Photo "),e()(),i(11,"div",13)(12,"mat-form-field",14)(13,"mat-label"),o(14,"Email"),e(),i(15,"input",15,1),C("ngModelChange",function(r){return p(a),M(t.email,r)||(t.email=r),u(r)}),e(),f(17,ee,2,0,"mat-error"),e(),i(18,"mat-form-field",14)(19,"mat-label"),o(20,"Nom d'utilisateur"),e(),i(21,"input",16,2),C("ngModelChange",function(r){return p(a),M(t.userName,r)||(t.userName=r),u(r)}),e(),f(23,te,2,0,"mat-error"),e(),i(24,"mat-form-field",14)(25,"mat-label"),o(26,"Nom et Pr\xE9nom(s)"),e(),i(27,"input",17,3),C("ngModelChange",function(r){return p(a),M(t.fullName,r)||(t.fullName=r),u(r)}),e(),f(29,ie,2,0,"mat-error"),e(),i(30,"mat-form-field",14)(31,"mat-label"),o(32,"Mot de passe"),e(),i(33,"input",18,4),C("ngModelChange",function(r){return p(a),M(t.password,r)||(t.password=r),u(r)}),e(),i(35,"mat-icon",19),c("click",function(r){return p(a),u(t.togglePassword(r))}),o(36),e(),f(37,re,2,0,"mat-error"),e(),i(38,"input",20,5),c("change",function(r){return p(a),u(t.onFileSelected(r))}),e(),i(40,"button",21),c("click",function(){p(a);let r=g(39);return u(r.click())}),i(41,"mat-icon"),o(42,"add_a_photo"),e(),i(43,"span"),o(44,"T\xE9l\xE9charger une photo"),e()(),i(45,"app-button",22),c("action",function(){return p(a),u(t.register())}),e(),i(46,"p",23),o(47," Avez-vous un compte ? "),i(48,"a",24),o(49," Connectez-vous. "),e()()()()()}if(d&2){let a=g(1),s=g(16),r=g(22),E=g(28),v=g(34);l(8),h("src",t.profilePicture,V),l(7),w("ngModel",t.email),l(2),_(s.errors!=null&&s.errors.required?17:-1),l(4),w("ngModel",t.userName),l(2),_(r.errors!=null&&r.errors.required?23:-1),l(4),w("ngModel",t.fullName),l(2),_(E.errors!=null&&E.errors.required?29:-1),l(4),h("type",t.hide()?"text":"password"),w("ngModel",t.password),l(3),x(t.hide()?"visibility_off":"visibility"),l(),_(v.errors!=null&&v.errors.required?37:-1),l(8),h("isDisabled",!a.valid)("text","Enregistrer")("isLoading",t.authService.isLoading()),l(3),h("routerLink","/login")}},dependencies:[Q,O,G,J,K,Y,X,U,A,B,q,D,H,j,z,P,I,T,F,Z],encapsulation:2})};export{$ as RegisterComponent};
