import{a as j,b as H,c as G,d as J,e as K,f as O,g as Q,h as U}from"./chunk-IUOOMVWF.js";import{$b as R,C as c,F as d,G as u,Ia as h,Ib as F,Ja as r,Jb as B,Ka as y,Kb as I,Ma as M,Na as S,Oa as v,S as b,Vb as N,Xb as T,Y as n,ac as D,bc as P,ca as C,cc as W,dc as q,fc as A,ga as w,gc as z,hb as E,ib as V,ka as g,kb as k,oa as _,sa as e,ta as t,ua as x,wa as L,ya as f}from"./chunk-XD6L3HVD.js";function Y(m,a){m&1&&(e(0,"mat-error"),r(1," Veuillez renseigner Ce champs ! "),t())}function Z(m,a){m&1&&(e(0,"mat-error"),r(1," Veuillez renseigner Ce champs ! "),t())}var X=class m{hide=b(!1);email;password;aurhService=c(k);snackBar=c(N);router=c(E);login(){this.aurhService.isLoading.set(!0),this.aurhService.login(this.email,this.password).subscribe({next:()=>{this.aurhService.me().subscribe(),this.snackBar.open("connexion avec succ\xE8s !","Close",{duration:500}),this.aurhService.isLoading.set(!1)},error:a=>{let p=a.error;this.snackBar.open(p.error,"Close",{duration:1e3}),this.aurhService.isLoading.set(!1)},complete:()=>{this.router.navigate(["/"]),this.aurhService.isLoading.set(!1)}})}togglePassword(a){this.hide.set(!this.hide()),a.stopPropagation()}static \u0275fac=function(p){return new(p||m)};static \u0275cmp=C({type:m,selectors:[["app-login"]],decls:29,vars:10,consts:[["userForm","ngForm"],["emailModel","ngModel"],["passwordModel","ngModel"],["action","",1,"md:flex","justify-center","px-20","gb-white","gap-10",3,"ngSubmit"],[1,"h-auto","w-3/5",2,"background-image","url('register.svg')","background-repeat","no-repeat","background-size","contain","background-color","white","background-position","bottom"],[1,"gb-white","my-10","rounded","w-1/4","felx","felx-col","gap-3","shadow-sm","drop-shadow-md"],[1,"text-center","mt-10"],[1,"material-icons","text-5xl","text-blue-950","bg-white"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-4"],["apperance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Votre Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","password","placeholder","Votre mot de passe",3,"ngModelChange","type","ngModel"],["matSuffix","",3,"click"],[3,"action","text","isDisabled","isLoading"],[1,"font-bold","text-xs","text-center","pb-10"],["href","",1,"text-blue-500",3,"routerLink"]],template:function(p,i){if(p&1){let l=L();e(0,"form",3,0),f("ngSubmit",function(){return d(l),u(i.login())}),x(2,"div",4),e(3,"div",5)(4,"div",6)(5,"i",7),r(6,"person"),t(),e(7,"div",8),r(8," Connexion "),t()(),e(9,"div",9)(10,"mat-form-field",10)(11,"mat-label"),r(12,"Email"),t(),e(13,"input",11,1),v("ngModelChange",function(o){return d(l),S(i.email,o)||(i.email=o),u(o)}),t(),w(15,Y,2,0,"mat-error"),t(),e(16,"mat-form-field",10)(17,"mat-label"),r(18,"Mot de passe"),t(),e(19,"input",12,2),v("ngModelChange",function(o){return d(l),S(i.password,o)||(i.password=o),u(o)}),t(),e(21,"mat-icon",13),f("click",function(o){return d(l),u(i.togglePassword(o))}),r(22),t(),w(23,Z,2,0,"mat-error"),t(),e(24,"app-button",14),f("action",function(){return d(l),u(i.login())}),t(),e(25,"p",15),r(26," Avez-vous un compte ? "),e(27,"a",16),r(28," Cr\xE9er un compte. "),t()()()()()}if(p&2){let l=h(1),s=h(14),o=h(20);n(13),M("ngModel",i.email),n(2),_(s.errors!=null&&s.errors.required?15:-1),n(4),g("type",i.hide()?"text":"password"),M("ngModel",i.password),n(3),y(i.hide()?"visibility_off":"visibility"),n(),_(o.errors!=null&&o.errors.required?23:-1),n(),g("text","Se connecter")("isDisabled",!l.valid)("isLoading",i.aurhService.isLoading()),n(3),g("routerLink","/register")}},dependencies:[K,J,j,H,G,Q,O,z,q,T,R,D,A,W,P,F,I,B,V,U],encapsulation:2})};export{X as LoginComponent};
